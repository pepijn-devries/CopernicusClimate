# CopernicusClimate

## Overview

[The Copernicus Climate Change Service
(C3S)](https://climate.copernicus.eu/) has the mission of providing
information about the past, present and future climate, as well as tools
to enable climate change mitigation and adaptation strategies.

The C3S Climate Data Store provides open and state-of-the-art climate
data to scientists. This package allows users to download data from the
data store and handle it in R.

## Installation

Install CRAN release:

``` r
install.packages("CopernicusClimate")
```

Install latest developmental version from R-Universe:

``` r
install.packages("CopernicusClimate", repos = c('https://pepijn-devries.r-universe.dev', 'https://cloud.r-project.org'))
```

## Example

In order to download data from C3S you first need to submit a request
with
[`cds_submit_job()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_submit_job.md).
After your request has been processed by C3S, you can download the data
with
[`cds_download_jobs()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_download_jobs.md).
This workflow is demonstrated in the code snippet below. For a more
detailed description of the workflow see
[`vignette("download")`](https://pepijn-devries.github.io/CopernicusClimate/articles/download.md).

``` r
library(CopernicusClimate)
library(stars)   ## For loading spatial raster data
library(ggplot2) ## For plotting the data

if (cds_token_works()) { ## Make sure there is an operational access token
  
  ## Submit a download job:
  job <-
    cds_submit_job(
      "sis-agrometeorological-indicators",
      statistic = "day_time_mean",
      variable = "2m_temperature",
      year = "2025",
      month = "01",
      day = "01")
  
  ## Actually download the data:
  data_file <- cds_download_jobs(job$jobID, tempdir())
  
  ## Unzip the downloaded data:
  data_unzipped <- unzip(data_file$local, list = TRUE)
  unzip(data_file$local, exdir = tempdir())
  data_stars <- read_mdim(file.path(tempdir(), data_unzipped))
  
  ## Plot the downloaded data
  ggplot() +
    geom_stars(data = data_stars) +
    coord_sf() +
    labs(fill = "T(air 2m) [K]", x = NULL, y = NULL) +
    scale_fill_viridis_c(option = "inferno", na.value = "transparent")
}
```

![Temperature map created from downloaded
data](reference/figures/README-example-1.png)

## More of Copernicus

More R packages for exploring other Copernicus data services:

- [CopernicusMarine](https://github.com/pepijn-devries/CopernicusMarine)
  Dedicated to marine datasets

## Code of Conduct

Please note that the CopernicusClimate project is released with a
[Contributor Code of
Conduct](https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html).
By contributing to this project, you agree to abide by its terms.

# Package index

## All functions

- [`cds_accept_licence()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_accept_licence.md)
  : Accept a specific licence
- [`cds_accepted_licences()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_accepted_licences.md)
  : List accepted licences
- [`cds_account_metrics()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_account_metrics.md)
  : Get Prometheus metrics for account
- [`cds_build_request()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_build_request.md)
  : Prepare a request for downloading a dataset
- [`cds_catalogue_vocabulary()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_catalogue_vocabulary.md)
  : List catalogue vocabulary
- [`cds_check_authentication()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_check_authentication.md)
  [`cds_token_works()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_check_authentication.md)
  : Check if authentication works with a specific token
- [`cds_cite_dataset()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_cite_dataset.md)
  : Cite a dataset
- [`cds_dataset_form()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_dataset_form.md)
  : Obtain an overview of options to subset a dataset
- [`cds_delete_job()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_delete_job.md)
  : Delete/cancel jobs submitted to the Climate Data Service
- [`cds_download_jobs()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_download_jobs.md)
  : Download specific jobs
- [`cds_estimate_costs()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_estimate_costs.md)
  : Check the cost of a request against your quota
- [`cds_get_account()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_get_account.md)
  : Get account details
- [`cds_get_token()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_get_token.md)
  [`cds_set_token()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_get_token.md)
  : Get or set a Climate Data Service API key
- [`cds_list_jobs()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_list_jobs.md)
  : List jobs submitted to the Climate Data Service
- [`cds_list_licences()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_list_licences.md)
  : Obtain a list of licences that can be accepted
- [`cds_python_to_r()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_python_to_r.md)
  : Translate Python Climate Data Store request to R request
- [`cds_list_datasets()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_search_datasets.md)
  [`cds_search_datasets()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_search_datasets.md)
  : List or search Climate Data Service datasets
- [`cds_starred()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_starred.md)
  [`cds_assign_star()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_starred.md)
  [`cds_remove_star()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_starred.md)
  : Add or remove a star to a dataset, or list starred datasets
- [`cds_submit_job()`](https://pepijn-devries.github.io/CopernicusClimate/reference/cds_submit_job.md)
  : Submit a download job for a dataset

# Articles

### All vignettes

- [Downloading from Copernicus Climate
  Service](https://pepijn-devries.github.io/CopernicusClimate/articles/download.md):
- [Translate API
  Code](https://pepijn-devries.github.io/CopernicusClimate/articles/translate.md):
